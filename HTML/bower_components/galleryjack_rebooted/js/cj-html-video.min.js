(function(a){a.cjVideoPlayer=function(c){var n,o,L=!1;c?(c.hasOwnProperty("autoPlay")?o=c.autoPlay:o=!0,c.hasOwnProperty("volume")?n=0.01*c.volume:n=0.75):(o=!0,n=0.75);if(a.cjBgSlideshow.getTablet()||a.cjBgSlideshow.getPhone())o=!1,L=!0;c=null;a.cjVideoPlayer.getValues=function(){return[n,o]};a.cjVideoPlayer.instance=function(c){function E(p){p&&p.stopPropagation();L||b.removeEventListener("canplay",E,!1);b.volume=n;q=a("#cj-vid-controls");if(q.length){d=a(window);F=a(document);r=a(".cj-vid-full"); g=a(".cj-vid-play");h=a(".cj-vid-pause");s=a(".cj-vid-mute");t=a(".cj-vid-normal");u=a(".cj-vid-volume");i=a(".cj-vid-lines");l=a(".cj-vid-progress");f=a(".cj-vid-vol-current");j=a(".cj-vid-vol-buttons");m=a(".cj-vid-vol-lines");e=a(".cj-vid-fullscreen");v=a(".cj-vid-play-pause");Q=parseInt(k.attr("height"),10);B=parseInt(k.attr("width"),10);q.css("width",B);M=B>>1;C=B-150;var p=a(".cj-vid-total"),c=a(".cj-vid-vol-total");v.length&&g.length&&h.length?(w=!0,o?(g.hide(),h.show()):(h.hide(),g.show()), v.click(G)):(w=!1,v.length?v.hide():(g.length&&g.hide(),h.length&&h.hide()));j.length&&u.length&&s.length?(H=!0,I(n),j.click(R)):(H=!1,j.length?j.hide():(u.length&&u.hide(),s.length&&s.hide()));m.length&&f.length&&c.length?(y=!0,S=parseInt(m.css("padding-left"),10),f.css("width",N*n),N=parseInt(c.css("width"),10),m.click(T)):(y=!1,m.length?m.hide():(f.length&&f.hide(),c.length&&c.hide()));e.length&&r.length&&t.length?(J=!0,e.data("isFull",!1).click(O)):(J=!1,e.length?e.hide():(r.length&&r.hide(), t.length&&t.hide()));i.length&&l.length&&p.length?(z=!0,U=parseInt(i.css("padding-left"),10),i.css("width",C),p.css("width",C),l.css("width",0),duration=b.duration,i.click(V),o&&(timer=setInterval(P,250))):(z=!1,i.length?i.hide():(l.length&&l.hide(),p.length&&p.hide()));(z||w)&&b.addEventListener("ended",W,!1);o?b.play():b.pause();k.click(G)}else b.play()}function W(a){a.stopPropagation();"undefined"!==typeof timer&&clearInterval(timer);z&&l.css("width",0);b.pause();w&&(h.hide(),g.show())}function G(a){a.stopPropagation(); b.paused?(b.play(),w&&(g.hide(),h.show()),z&&(timer=setInterval(P,250))):(b.pause(),w&&(h.hide(),g.show()),"undefined"!==typeof timer&&clearInterval(timer))}function T(a){a.stopPropagation();var a=a.pageX-m.offset().left-S,c=a/N;f.css("width",a);b.volume=c;H&&I(c)}function R(){j.data("isOn")?(y&&(X=parseInt(f.css("width"),0),f.css("width",0)),Y=b.volume,b.volume=0,I(0)):(y&&f.css("width",X),b.volume=Y,I(1))}function I(a){0!==a?(s.hide(),u.show(),j.data("isOn",!0)):(u.hide(),s.show(),j.data("isOn", !1),y&&f.css("width",0))}function V(a){a.stopPropagation();b.currentTime=b.duration*((a.pageX-i.offset().left-U)/C);b.play();P()}function P(){l.css("width",C*(b.currentTime/b.duration)|0)}function O(){if(e.data("isFull"))Z();else{K.css("overflow","hidden");var a=d.height();A=d.width();parseInt(x.css("left"),10);parseInt(x.css("top"),10);x.addClass("cj-video-full").css({top:d.scrollTop()-1,left:d.scrollLeft()-1});q.addClass("cj-vid-controls-full").css("margin-left",(A>>1)-M);k.attr("width",A+1).attr("height", a+1);e.data("isFull",!0);D.length&&D.hide();r.hide();t.show();d.resize($);F.keydown(aa)}}function Z(){d.unbind("resize",$);F.unbind("keydown",aa);K.css("overflow",ba);x.removeClass("cj-video-full");k.attr("width",B).attr("height",Q);q.removeClass("cj-vid-controls-full").css("margin-left",0);e.data("isFull",!1);ca();r.show();t.hide();D.length&&D.show()}function aa(a){27===a.keyCode&&O()}function $(){A=d.width();x.css({top:d.scrollTop()-1,left:d.scrollLeft()-1});k.attr("width",A).attr("height",d.height()); q.css("margin-left",(A>>1)-M)}var x=a("#cj-video-player");if(x.length){var b,U,S,X,Y,v,Q,B,N,e,q,i,m,l,u,s,M,A,C,f,j,t,h,r,g,d,F,w,J,z,H,y,ca=c,K=a("body"),k=a("#cj-html-video"),D=a(".cj-video-close"),ba=K.css("overflow");if(k.length)b=k[0],L?E():b.addEventListener("canplay",E,!1);else return!1}else return!1;return[function(){J&&(e.unbind("click",O),e.data("isFull")&&Z());if(b)b.removeEventListener("canplay",E,!1),b.removeEventListener("ended",W,!1),b.pause(),b.src="",n=b.volume,k.unbind("click", G);"undefined"!==typeof timer&&clearInterval(timer);H&&j.unbind("click",R);w&&v.unbind("click",G);y&&m.unbind("click",T);z&&(i.unbind("click",V),l.css("width",0));F=d=g=r=b=h=b=D=K=t=j=f=k=s=u=ca=l=m=i=q=e=x=v=ba=null},function(){return J?e.data("isFull"):!1}]}}})(jQuery);