(function(a){a.cjTopRightButtons=function(f,g){function t(b,c){var k,d,h,f,e,l=0,m="",g=a("#cj-author-info");if(c){d=c.hasOwnProperty("twitterUser")?c.twitterUser:"";h=c.hasOwnProperty("facebookUser")?c.facebookUser:"";f=c.hasOwnProperty("googlePlusId")?c.googlePlusId:"";for(var i in c)c.hasOwnProperty(i)&&"facebookUser"!==i&&"twitterUser"!==i&&"googlePlusId"!==i&&(m+=c[i].split("{twitterUser}").join(d).split("{facebookUser}").join(h).split("{googlePlusId}").join(f))}g.children("div").each(function(){if(a(this).attr("id")&& (k=a(this).attr("id"),"cj-preloader"!==k)){e=a("<div />").addClass("cj-top-right-content");switch(k){case "cj-music-button":a("#cj-music").length?(e.html(a(this).html()),a(this).data("isMusic",!0).mouseover(u).mouseout(v).click(w)):a(this).hide();break;case "cj-share-button":""!==m?(e.html(m),a(this).data("isMusic",!1).mouseover(p).mouseout(q).click(o)):a(this).hide();break;default:""!==a.trim(a(this).text())?(e.html(a(this).html()),a(this).data("isMusic",!1).mouseover(p).mouseout(q).click(o)):a(this).hide()}"cj-email-button"!== k&&e.addClass("cj-no-select");r.append(e);a(this).empty().css("visibility","visible").data({active:!1,id:l,holder:e});n[l]=a(this);j[l]=e;l++}});if(-1!==navigator.appVersion.indexOf("Mac")){d=a("#cj-facebook");h=j.length;for(d.length&&d.addClass("facebook-fix");h--;)j[h].children("div").each(function(){a(this).addClass("social-fix")})}if(a.cjBgSlideshow.getTablet()||a.cjBgSlideshow.getPhone())d=a("#cj-google-plus"),d.length&&d.addClass("cj-fix-gplus");a("#cj-email-button").length&&b&&"undefined"!== typeof a.cjContact&&a.cjContact(b);s=n.length;g.css("visibility","visible");b=c=st=null}function u(b){b.stopPropagation();!a(this).data("active")&&a.cjMusicPlayer.checkMultiple()&&a(this).addClass("cj-button-hover")}function v(b){b.stopPropagation();!a(this).data("active")&&a.cjMusicPlayer.checkMultiple()&&a(this).removeClass("cj-button-hover")}function p(b){b.stopPropagation();a(this).data("active")||a(this).addClass("cj-button-hover")}function q(b){b.stopPropagation();a(this).data("active")||a(this).removeClass("cj-button-hover")} function w(b){b.stopPropagation();a.cjMusicPlayer.hasMultiple()&&o(a(this))}function o(b){var c;"undefined"!==typeof b.target?(b.stopPropagation(),c=a(this)):c=b;if(c.data("active"))c.data("active",!1).removeClass("cj-button-hover").data("holder").stop(!0,!0).fadeOut(300);else{b=s;for(c=c.data("id");b--;)j[b].stop(!0,!0).css("display","none"),b!==c?n[b].data("active",!1).removeClass("cj-button-hover"):(n[b].data("active",!0).addClass("cj-button-hover"),j[b].fadeIn(300))}}var s,n=[],j=[],r=a("#cj-gallery"); r.length&&t(f,g);g=f=null}})(jQuery);